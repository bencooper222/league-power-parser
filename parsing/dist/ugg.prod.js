'use strict';var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,d,e){if(b==Array.prototype||b==Object.prototype)return b;b[d]=e.value;return b};
$jscomp.getGlobal=function(b){b=["object"==typeof globalThis&&globalThis,b,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var d=0;d<b.length;++d){var e=b[d];if(e&&e.Math==Math)return e}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(b,d){var e=$jscomp.propertyToPolyfillSymbol[d];if(null==e)return b[d];e=b[e];return void 0!==e?e:b[d]};$jscomp.polyfill=function(b,d,e,f){d&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(b,d,e,f):$jscomp.polyfillUnisolated(b,d,e,f))};
$jscomp.polyfillUnisolated=function(b,d,e,f){e=$jscomp.global;b=b.split(".");for(f=0;f<b.length-1;f++){var a=b[f];if(!(a in e))return;e=e[a]}b=b[b.length-1];f=e[b];d=d(f);d!=f&&null!=d&&$jscomp.defineProperty(e,b,{configurable:!0,writable:!0,value:d})};
$jscomp.polyfillIsolated=function(b,d,e,f){var a=b.split(".");b=1===a.length;f=a[0];f=!b&&f in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var c=0;c<a.length-1;c++){var h=a[c];if(!(h in f))return;f=f[h]}a=a[a.length-1];e=$jscomp.IS_SYMBOL_NATIVE&&"es6"===e?f[a]:null;d=d(e);null!=d&&(b?$jscomp.defineProperty($jscomp.polyfills,a,{configurable:!0,writable:!0,value:d}):d!==e&&(void 0===$jscomp.propertyToPolyfillSymbol[a]&&(e=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[a]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(a):$jscomp.POLYFILL_PREFIX+e+"$"+a),$jscomp.defineProperty(f,$jscomp.propertyToPolyfillSymbol[a],{configurable:!0,writable:!0,value:d})))};
$jscomp.polyfill("String.prototype.replaceAll",function(b){return b?b:function(d,e){if(d instanceof RegExp&&!d.global)throw new TypeError("String.prototype.replaceAll called with a non-global RegExp argument.");return d instanceof RegExp?this.replace(d,e):this.replace(new RegExp(String(d).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"),"g"),e)}},"es_2021","es3");
(function(){const b=(a,c=!1)=>c?Number(a.replace("%","")):Number(a),d=a=>{a=a.map(c=>({"Champ Name":c[3],"Win Percent":c[1],"Play Percent":c[0],Power:c[2],"95% CI Lower Bound":c[4],"95% CI Upper Bound":c[5]}));console.table(a)},e=async a=>{a=(new TextEncoder).encode(a);a=await crypto.subtle.digest("SHA-1",a);return Array.from(new Uint8Array(a)).map(c=>c.toString(16).padStart(2,"0")).join("")},f=async(a,c="",h="",m="",n="",l="https://power.benc.me")=>{a={datetime:c,patch:h,queue:m,elo:n,champions:a.slice(0,
30)};a=JSON.stringify(a);c=await e(a);await fetch(`${"https://kvdb.io/NEjFQLMGv57omxxph5uoht"}/v2-${c}`,{method:"POST",body:a});window.open(`${l}/?s=v2-${c}`,"_blank")};(async()=>{const a=Date.now();await new Promise(g=>{let k=document.getElementsByClassName("rt-tr-group").length,q=0,r=0;const t=setInterval(()=>{window.scrollTo(0,document.body.scrollHeight);k=q;q=document.getElementsByClassName("rt-tr-group").length;(k===q&&243<=q||10<r++)&&(clearInterval(t),g())},30)});document.body.scrollTop=document.documentElement.scrollTop=
0;var c=document.getElementsByClassName("rt-tbody")[0].childNodes,h={},m=0;for(var n of c){c=n.childNodes[0];console.log(c);var l=c.childNodes[2].getElementsByClassName("champion-name")[0].innerHTML;const g=Number(c.childNodes[8].getElementsByTagName("span")[0].innerHTML.replaceAll(",","")),k=b(c.childNodes[4].getElementsByTagName("b")[0].innerHTML,!0);b(c.childNodes[6].getElementsByTagName("span")[0].innerHTML,!0);null==h[l]?h[l]={played:g,won:g*k}:(h[l].played+=g,h[l].won+=g*k);m+=g}c=Object.keys(h);
n=[];for(var p of c){const {won:g,played:k}=h[p];c=g/k/100;l=(c*(1-c)/k)**.5;n.push(Array.from({[1]:g/k,[0]:100*k/m,[2]:100*k/m*(g/k-50)*10,[3]:p,[4]:c-1.96*l,[5]:c+1.96*l,length:6}))}n.sort((g,k)=>k[2]-g[2]);d(n);h=new Date;h=h.toDateString()+" "+h.toTimeString();c=p=m="?";try{const g=document.querySelector(".header-patch").innerHTML,k=g.indexOf(".");m=g.slice(k-2)}catch(g){console.error("Couldn't parse patch")}try{p=document.querySelector("span.queue-type > strong:nth-child(1)").innerHTML}catch(g){console.error("Couldn't parse queue")}try{c=
document.querySelector("div.filter-select_rank:nth-child(1) > div:nth-child(1) > div:nth-child(1) > div:nth-child(1) > div:nth-child(1) > span:nth-child(2)").innerHTML}catch(g){console.error("Couldn't parse rank/elo")}console.log("Took: "+(Date.now()-a)+"ms to calculate.");await f(n,h,m,p,c)})()})();
