'use strict';(function(){function t(b,a,c){if(a.set)a.set.call(b,c);else{if(!a.writable)throw new TypeError("attempted to set read only private field");a.value=c}}function q(b,a,c){if(!a.has(b))throw new TypeError("attempted to "+c+" private field on non-instance");return a.get(b)}function r(b,a){return a.get?a.get.call(b):a.value}const u=(b,a=!1)=>a?Number(b.replace("%","")):Number(b),x=b=>{b=b.map(a=>({"Champ Name":a[3],"Win Percent":a[1],"Play Percent":a[0],i:a[2],"95% CI Lower Bound":a[4],"95% CI Upper Bound":a[5]}));
console.table(b)},y=async b=>{b=(new TextEncoder).encode(b);b=await crypto.subtle.digest("SHA-1",b);return Array.from(new Uint8Array(b)).map(a=>a.toString(16).padStart(2,"0")).join("")},z=async(b,a="",c="",f="",g="",e="https://power.benc.me")=>{b=JSON.stringify({l:a,o:c,s:f,m:g,j:b.slice(0,30)});a=await y(b);await fetch(`${"https://kvdb.io/NEjFQLMGv57omxxph5uoht"}/v2-${a}`,{method:"POST",body:b});window.open(`${e}/?s=v2-${a}`,"_blank")};var n=new WeakMap;class A{constructor(){n.set(this,{writable:!0,
value:void 0})}start(){if(null!=r(this,q(this,n,"get")))throw Error("already started");var b=Date.now();t(this,q(this,n,"set"),b)}h(){if(null==r(this,q(this,n,"get")))throw Error("never started");const b=Date.now()-r(this,q(this,n,"get"));return t(this,q(this,n,"set"),void 0),b}}(async()=>{const b=new A;b.start();await new Promise(d=>{let h=document.getElementsByClassName("rt-tr-group").length,k=0,l=0;const p=setInterval(()=>{window.scrollTo(0,document.body.scrollHeight);h=k;k=document.getElementsByClassName("rt-tr-group").length;
(h===k&&234<=k||10<l++)&&(clearInterval(p),d())},35)});document.body.scrollTop=document.documentElement.scrollTop=0;var a=Array.from(document.getElementsByClassName("rt-tbody")[0].childNodes);const c={};for(var f=0;f<a.length;f++){var g=a[f].childNodes[0],e=g.childNodes[2].getElementsByClassName("champion-name")[0].innerHTML,m=Number(g.childNodes[8].getElementsByTagName("span")[0].innerHTML.replace(",","").replace(",",""));const d=u(g.childNodes[4].getElementsByTagName("b")[0].innerHTML,!0);u(g.childNodes[6].getElementsByTagName("span")[0].innerHTML,
!0);null==c[e]?c[e]={played:m,g:m*d}:(c[e].played+=m,c[e].g+=m*d)}const v=Object.values(c).reduce((d,{played:h})=>h+d,0);a=Object.keys(c).reduce((d,h)=>{const {g:k,played:l}=c[h],p=k/l/100,w=(p*(1-p)/l)**.5;return d.concat([Array.from({[1]:k/l,[0]:100*l/v,[2]:100*l/v*(k/l-50)*10,[3]:h,[4]:p-1.96*w,[5]:p+1.96*w,length:6})])},[]).sort((d,h)=>h[2]-d[2]);x(a);f=new Date;f=f.toDateString()+" "+f.toTimeString();m=e=g="?";try{g=document.querySelector("h1.tier-list > span:nth-child(1)").innerHTML.split(" ").slice(-1)[0]}catch(d){console.error("Couldn't parse patch")}try{e=
document.querySelector("span.queue-type > strong:nth-child(1)").innerHTML}catch(d){console.error("Couldn't parse queue")}try{m=document.querySelector("div.filter-select_rank:nth-child(1) > div:nth-child(1) > div:nth-child(1) > div:nth-child(1) > div:nth-child(1) > span:nth-child(2)").innerHTML}catch(d){console.error("Couldn't parse rank/elo")}console.log("Took: "+b.h()+"ms to calculate.");await z(a,f,g,e,m)})()})();
